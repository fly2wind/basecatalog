.catalog:
  name: jenkins
  version: 1.0-rancher1
  description: "jenkins server."
  questions:
  - variable: "PORT"
    type: "int"
    label: "Port Number"
    description: "Which port should Jenkins listen on?"
    default: 8080
    required: true
  - variable: "volume_work"
    description: "Work volume to save jenkins data."
    label: "Work Volume:"
    required: true
    default: "/var/lib/jenkins"
    type: "string"
  - variable: "plugins"
    type: "multiline"
    label: "Plugins"
    description: "List of plugins in the format <plugin_name>[:<version>] one entry per line."
    default: |
      git
      subversion
      workflow-aggregator
      dashboard-view
      cloudbees-folder
      token-macro
      simple-theme
      docker
      ldap
      swarm
  - variable: "config"
    type: "multiline"
    label: "Configurations"
    description: "Configurations of jenkins in the groovy format."
    default: |
      security {
        ldap {
          enabled           = false
          server            = "ldap://ldap.example.com"
          rootDN            = "OU=Enterprise,OU=Principal,DC=corporate,DC=example,DC=com"
          userSearchBase    = "OU=Employees"
          userSearchFilter  = "sAMAccountName={0}"
          groupSearchBase   = "OU=Groups"
          groupSearchFilter = "(& (cn={0}) (objectclass=group) )"
          groupSearchAttr   = "memberOf"
          managerDN         = "CN=username,OU=Employees,OU=Enterprise,OU=Principal,DC=corporate,DC=example,DC=com"
          managerPassword   = "ecrypt password by AES"
        }
      }
jenkins:
  metadata:
    plugins: |
      ${plugins}
    config: |
      ${config}
